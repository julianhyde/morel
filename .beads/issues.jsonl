{"id":"morel-07f","title":"Phase3a-ProcessTreeBuilder: Implement PPT construction with exists handling","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-23T17:51:22.195715-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T00:26:14.725443-08:00","closed_at":"2026-01-24T00:26:14.725443-08:00","close_reason":"Closed","dependencies":[{"issue_id":"morel-07f","depends_on_id":"morel-djr","type":"blocks","created_at":"2026-01-23T17:51:31.321148-08:00","created_by":"Hellblazer"}]}
{"id":"morel-1u4","title":"Phase3a-ProcessTreeNode: Implement class hierarchy","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-23T17:51:21.859163-08:00","created_by":"Hellblazer","updated_at":"2026-01-23T18:40:03.035911-08:00","closed_at":"2026-01-23T18:40:03.035911-08:00","close_reason":"Closed"}
{"id":"morel-2uw","title":"Phase3b-Integration: Wire Relational.iterate into Extents","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-24T00:43:31.885194-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T01:32:16.682779-08:00","closed_at":"2026-01-24T01:32:16.682779-08:00","close_reason":"Closed","dependencies":[{"issue_id":"morel-2uw","depends_on_id":"morel-7xd","type":"blocks","created_at":"2026-01-24T00:43:36.036307-08:00","created_by":"Hellblazer"}]}
{"id":"morel-3li","title":"Phase3b-InvertedBaseCase: Implement extended base \u0026 recursive case inversion","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-24T00:43:31.690329-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T00:50:20.41849-08:00","closed_at":"2026-01-24T00:50:20.41849-08:00","close_reason":"Closed"}
{"id":"morel-5le","title":"Phase3b-Tabulation: Implement tabulation algorithm for I-O pairs","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-24T00:43:31.755369-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T00:58:48.174556-08:00","closed_at":"2026-01-24T00:58:48.174556-08:00","close_reason":"Closed","dependencies":[{"issue_id":"morel-5le","depends_on_id":"morel-3li","type":"blocks","created_at":"2026-01-24T00:43:35.903695-08:00","created_by":"Hellblazer"}]}
{"id":"morel-7xd","title":"Phase3b-StepFunction: Generate step function for Relational.iterate","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-24T00:43:31.822218-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T01:20:07.763519-08:00","closed_at":"2026-01-24T01:20:07.763519-08:00","close_reason":"Closed","dependencies":[{"issue_id":"morel-7xd","depends_on_id":"morel-5le","type":"blocks","created_at":"2026-01-24T00:43:35.970526-08:00","created_by":"Hellblazer"}]}
{"id":"morel-8qu","title":"Fix Phase 3b high-priority code review issues","description":"## Phase 3b Code Review Fixes\n\n**Context**: code-review-expert (agent a2a3fba) identified 2 HIGH-PRIORITY issues that must be fixed before Phase 3b approval.\n\n### Issue 1: Unused Parameter in identifyThreadedVariables\n**File**: src/main/java/net/hydromatic/morel/compile/PredicateInverter.java:724\n**Problem**: The `baseCase` parameter is never used in the method body\n**Fix**: Either remove the parameter or use it in the implementation. Update all call sites accordingly.\n\n### Issue 2: Non-deterministic Join Variable Selection\n**File**: src/main/java/net/hydromatic/morel/compile/PredicateInverter.java:1731-1736\n**Problem**: `identifyJoinVariable` relies on Set iteration order (undefined), causing non-deterministic code generation\n```java\n// Current (BROKEN):\nreturn threadedVars.iterator().next();\n\n// Fix (Option 1):\nreturn ImmutableSet.copyOf(threadedVars).asList().get(0);\n\n// Fix (Option 2):\n// Implement proper join variable detection by analyzing base case and recursive call\n```\n\n### Additional Tasks\n- [ ] Uncomment transitive closure test in src/test/resources/script/such-that.smli (lines 736-743)\n- [ ] Verify test produces expected output: [(1,2),(2,3),(1,3)]\n- [ ] Enable or document status of 6 skipped tests in PredicateInverterTest\n\n### Test Verification\nAfter fixes, run:\n```\n./mvnw test -Dtest=PredicateInverterTest\n./mvnw test -Dtest=ScriptTest\n```\n\nAll tests should pass with no skipped tests related to these issues.\n\n### Quality Gates\n- [ ] Issue 1 resolved (unused parameter removed or used)\n- [ ] Issue 2 resolved (deterministic join variable selection)\n- [ ] Transitive closure test uncommented and passing\n- [ ] Code review re-approval (minor fixes only, no architectural changes)\n- [ ] All 159+ tests still passing\n- [ ] Zero regressions from Phase 3a","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-24T01:44:25.314693-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T02:07:18.242903-08:00","closed_at":"2026-01-24T02:07:18.242903-08:00","close_reason":"All 8 code review issues fixed: HIGH (2) - Parameter removal, deterministic selection; MEDIUM (4) - Test documentation, placeholder marking, transitive closure comment, variable naming; LOW (2) - Documentation. PredicateInverterTest: 40/40 pass. ScriptTest: 32/32 pass. Phase 3b implementation complete."}
{"id":"morel-djr","title":"Phase3a-VarEnvironment: Implement immutable environment","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-23T17:51:22.030278-08:00","created_by":"Hellblazer","updated_at":"2026-01-23T18:47:25.735298-08:00","closed_at":"2026-01-23T18:47:25.735298-08:00","close_reason":"Closed","dependencies":[{"issue_id":"morel-djr","depends_on_id":"morel-1u4","type":"blocks","created_at":"2026-01-23T17:51:31.178043-08:00","created_by":"Hellblazer"}]}
{"id":"morel-gro","title":"Phase3b-QA: Phase 3b Quality Assurance \u0026 Validation","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-24T00:43:31.946842-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T01:44:21.453094-08:00","closed_at":"2026-01-24T01:44:21.453094-08:00","close_reason":"Phase 3b infrastructure complete, high-quality code base. Requires fix of 2 high-priority issues and enablement of end-to-end transitive closure test for final approval.","dependencies":[{"issue_id":"morel-gro","depends_on_id":"morel-2uw","type":"blocks","created_at":"2026-01-24T00:43:36.102389-08:00","created_by":"Hellblazer"}]}
{"id":"morel-klw","title":"Phase3a-Integration: Wire ProcessTreeNode into PredicateInverter","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-23T17:51:22.520199-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T00:40:37.193128-08:00","closed_at":"2026-01-24T00:40:37.193128-08:00","close_reason":"Closed","dependencies":[{"issue_id":"morel-klw","depends_on_id":"morel-mmn","type":"blocks","created_at":"2026-01-23T17:51:31.618677-08:00","created_by":"Hellblazer"}]}
{"id":"morel-mmn","title":"Phase3a-Tests: Comprehensive unit tests for PPT construction","status":"closed","priority":1,"issue_type":"task","owner":"hellblazer@me.com","created_at":"2026-01-23T17:51:22.348421-08:00","created_by":"Hellblazer","updated_at":"2026-01-24T00:30:26.150627-08:00","closed_at":"2026-01-24T00:30:26.150627-08:00","close_reason":"Closed","dependencies":[{"issue_id":"morel-mmn","depends_on_id":"morel-07f","type":"blocks","created_at":"2026-01-23T17:51:31.490646-08:00","created_by":"Hellblazer"}]}
